var t=Object.defineProperty,e=(e,r,s)=>(((e,r,s)=>{r in e?t(e,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[r]=s})(e,"symbol"!=typeof r?r+"":r,s),s);import{e as r,d as s,r as n,w as i,o as a,c as o,a as h,b as c,u as l,N as u,f as d,g as p,h as f,i as g,j as v,k as y,l as m,m as b,n as k,p as w,q as T,s as $,t as N}from"./vendor.aa4ae3f9.js";!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver((t=>{for(const r of t)if("childList"===r.type)for(const t of r.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)})).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerpolicy&&(e.referrerPolicy=t.referrerpolicy),"use-credentials"===t.crossorigin?e.credentials="include":"anonymous"===t.crossorigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();class x{constructor(){e(this,"truth",!1),e(this,"needUpdate",!0),e(this,"children",[]),e(this,"parent")}getChildren(){return this.children}toString(){return this.str}getTruth(){return this.truth}markNeedUpdate(){this.needUpdate||(this.needUpdate=!0,this.parent&&this.parent.markNeedUpdate())}dfsTruth(t){return void 0===t[this.str]||this.needUpdate?(this.needUpdate=!1,"atom"!==this.type&&(this.truth=this.calc(t)),t[this.str]=Number(this.truth),this.truth):this.truth}}class E extends x{constructor(t){super(),e(this,"type","atom"),e(this,"operator",""),this.str=t}setTruth(t){this.truth=t}calc(){return!!this.type}}class U extends x{constructor(t){super(),e(this,"type","bracket"),e(this,"operator",""),e(this,"str"),this.children.push(t),this.children[0].parent=this,this.str=`(${t})`}calc(t){return this.children[0].dfsTruth(t)}}class j extends x{constructor(t){super(),e(this,"type","not"),e(this,"operator","¬"),e(this,"str"),this.children.push(t),this.children[0].parent=this,this.str=`¬${t}`}calc(t){return!this.children[0].dfsTruth(t)}}class _ extends x{constructor(t,r){super(),e(this,"type","and"),e(this,"operator","∧"),e(this,"str"),this.children.push(t,r),this.children[0].parent=this,this.children[1].parent=this,this.str=`${t} ∧ ${r}`}calc(t){const e=this.children[1].dfsTruth(t);return this.children[0].dfsTruth(t)&&e}}class I extends x{constructor(t,r){super(),e(this,"type","or"),e(this,"operator","∨"),e(this,"str"),this.children.push(t,r),this.children[0].parent=this,this.children[1].parent=this,this.str=`${t} ∨ ${r}`}calc(t){const e=this.children[1].dfsTruth(t);return this.children[0].dfsTruth(t)||e}}class L extends x{constructor(t,r){super(),e(this,"type","imply"),e(this,"operator","→"),e(this,"str"),this.children.push(t,r),this.children[0].parent=this,this.children[1].parent=this,this.str=`${t} → ${r}`}calc(t){const e=this.children[1].dfsTruth(t);return!this.children[0].dfsTruth(t)||e}}class P extends x{constructor(t,r){super(),e(this,"type","eq"),e(this,"operator","⟷"),e(this,"str"),this.children.push(t,r),this.children[0].parent=this,this.children[1].parent=this,this.str=`${t} ⟷ ${r}`}calc(t){return this.children[0].dfsTruth(t)===this.children[1].dfsTruth(t)}}const S={"=":1,">":2,"|":3,"&":4};function q(t){const e=t.getChildren();if("bracket"===t.type)return q(e[0]);const r={title:t.str,key:t.str,align:"center"};return 1===e.length?r.children=[{title:t.operator,key:t.str,align:"center"},q(e[0])]:2===e.length&&(r.children=[q(e[0]),{title:t.operator,key:t.str,align:"center"},q(e[1])]),r}function z(t,e){var r;const s=[],n=Array.from(e.keys()).sort();n.forEach((t=>{s.push({title:t,key:t,align:"center"})})),s.push(q(t));const i=[];for(let a=0;a<1<<n.length;a+=1){for(let t=0;t<n.length;t+=1){const s=Boolean(a>>t&1);null==(r=e.get(n[n.length-1-t]))||r.forEach((t=>{t.getTruth()!==s&&(t.setTruth(s),t.markNeedUpdate())}))}const s=i.length?Object.create(i[i.length-1]):{};t.dfsTruth(s),s.key=a,i.push(s)}return{columns:s,data:i}}var A=(t,e)=>{for(const[r,s]of e)t[r]=s;return t};const C=m(" Source Code @ GitHub ");var O=A(s({setup(t){const e=n(""),s=n(""),m=n(void 0),b=n([]),k=n([]);return i(e,(t=>{if(b.value=[],k.value=[],0===t.length)return s.value="",void(m.value=void 0);const e=function(t){try{let e=function(){return o[o.length-1]},s=function(t){return"string"==typeof t&&/^[&|>=]$/.test(t)},n=function(t){if(0===e().length)return void e().push(t);const r=e()[e().length-1];function i(){return`Invalid expression: "${t}" after "${r}"`}if("!"===r){if(s(t))throw i();"!"===t?e().push("!"):(e().pop(),n(new j(t)))}else if(s(r)){if(s(t))throw i();e().push(t)}else{if(!s(t))throw i();e().push(t)}},i=function(){const t=new Error("Reduce error"),s=e().pop();if("object"!=typeof s)throw t;const i=e().pop();if("string"!=typeof i)throw t;const a=e().pop();if("object"!=typeof a)throw t;switch(i){case"&":n(new _(a,s));break;case"|":n(new I(a,s));break;case">":n(new L(a,s));break;case"=":n(new P(a,s));break;case"!":throw t;default:r(i)}};const a=t.replace(/\s/g,"");if(/[^A-Z()!&|>=]/.test(a))return null;const o=[[]],h=new Map;for(let t=0;t<a.length;t+=1){const r=a[t];switch(r){case"(":o.push([]);break;case")":{for(;e().length>1;)i();const t=e()[0];if("object"!=typeof t)throw Error("End bracket error");o.pop(),n(new U(t));break}case"&":case"|":case">":case"=":for(;e().length>1;){const t=e()[e().length-2];if("string"!=typeof t||"!"===t)throw Error("Invalid stack");if(!(S[t]>=S[r]))break;i()}n(r);break;case"!":n("!");break;default:{const t=new E(r);let e=h.get(r);e||(e=[],h.set(r,e)),e.push(t),n(t);break}}}if(1!==o.length)throw Error("Bracket error");for(;e().length>1;)i();const c=e()[0];if("string"==typeof c)throw Error("Invalid root");return{root:c,atomNodes:h}}catch(e){return null}}(t);if(!e)return s.value="表达式好像不合法 😢",void(m.value="error");const{root:n,atomNodes:i}=e;if(i.size>12)return s.value="命题变项太多了 😫",void(m.value="error");i.size>7?(s.value="命题变项有点多诶 🤔",m.value="warning"):(s.value="",m.value="success");const a=z(n,i);b.value=a.columns,k.value=a.data})),(t,r)=>(a(),o(l(y),{id:"main",vertical:""},{default:h((()=>[c(l(u),{title:"真值表生成器",subtitle:"by. ouuan"}),c(l(d),{href:"https://github.com/ouuan/truth-table-generator"},{default:h((()=>[C])),_:1}),c(l(v),null,{default:h((()=>[c(l(p),{label:"输入逻辑表达式（逻辑符号：& | ! > = 表示 ∧ ∨ ¬ → ⟷；命题变项用单个大写字母表示）","validation-status":m.value,feedback:s.value},{default:h((()=>[c(l(f),{value:e.value,"onUpdate:value":r[0]||(r[0]=t=>e.value=t),maxlength:100,placeholder:"!(P & Q) = !P | !Q"},null,8,["value"])])),_:1},8,["validation-status","feedback"]),c(l(g),{data:k.value,columns:b.value,"single-line":!1,pagination:{pageSize:20}},null,8,["data","columns"])])),_:1})])),_:1}))}}),[["__scopeId","data-v-98c77ef6"]]);N(s({setup(t){const e=b((()=>"dark"===T().value?$:null));return(t,r)=>(a(),o(l(k),{theme:l(e)},{default:h((()=>[c(l(w)),c(O)])),_:1},8,["theme"]))}})).mount("#app");
